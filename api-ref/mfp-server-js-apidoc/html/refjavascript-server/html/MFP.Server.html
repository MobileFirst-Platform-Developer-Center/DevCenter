<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="generator" content="JsDoc Toolkit" />
		
		 <!-- Set the page titles as in old javascript doclet  -->
		
		    <title>JavaScript server-side API JavaScript Reference: Class MFP.Server</title>
		
		
		<!-- Link to the template CSS -->
		<link rel="stylesheet" type="text/css" href="ibm.css" title="Style" />
		<link rel="stylesheet" type="text/css" href="github.css" title="Style" />
	</head>

	<body>
	<script src="js/rainbow.min.js"></script>
  <script src="js/language/javascript.js"></script>
  <script src="js/language/generic.js"></script>
	
	
	<!-- ============================== header ================================= -->	
	<!-- Add a navigation bar in each class -->
	
	<div role="navigation" title ="TOP_Navigation" aria-label ="Top Navigation Bar"/>
	<div class="topBar">
	<div class="skip"><a href="#skip-navbar_top" title="Skip navigation links">Skip navigation links</a></div>
    <div class='navBar'><a href="index-all.html">Index</a>  <a href="intro.html">Overview</a></div><div class='frameNavBar'><a href="MFP.Logger.html">PREV CLASS</a>  <a href="index.html" target="_blank">FRAMES (opens in new window)</a></div>
	<a name="skip-navbar_top"></a>
	</div>
<hr/>
<!-- ============================== class title ============================ -->
<div class="content" role="main"/>
			<h2 class="classTitle">
				
				
				Class MFP.Server
				
			</h2>
	

   <!-- ============ CLASS INHERITANCE BEGIN ========== -->

   <!-- INHERITANCE graph  -->
   <pre>MFP.Server</pre>
  
   <!-- ============ CLASS INHERITANCE END ========== -->
	
		<hr/>
	   

		
<!-- ============================== class summary ========================== -->
				<!-- Proofread tag  -->
				
		
		<!--	<p class="description"> -->
				
				<!-- Module tag  -->
				
				<!-- ilog.undocumented.jsFile tag  -->
								
				
					
				
				
				
				
				
					<dl class="detailList">
						<dt class="heading">Description:</dt>
							<dd>The IBM&reg; MobileFirst&reg; server-side JavaScript API comprises these functions and objects.<br />
<dl class="detailList">
	<dt class="heading">Quick Reference</dt>
	<dd>
		<ul>
			<li>Accessing a web service.<br />
				<ul>
					<li>MFP.Server.invokeHttp</li>
				</ul>
			</li>
			<li>Accessing a JDBC database.<br />
				<ul>
					<li>MFP.Server.invokeSQLStoredProcedure</li>
					<li>MFP.Server.invokeSQLStatement</li>
				</ul>
			</li>
			<li>Calling other procedures.<br />
				<ul>
					<li>MFP.Server.invokeProcedure</li>
				</ul>
			</li>
			<li>Accessing an HttpServletRequest object.<br />
				<ul>
					<li>MFP.Server.getClientRequest</li>
				</ul>
			</li>
			<li>Accessing Server configuration.<br />
				<ul>
					<li>MFP.Server.getPropertyValue</li>
				</ul>
			</li>
			<li>Getting the authenticated user.<br />
				<ul>
					<li>MFP.Server.getAuthenticatedUser</li>
				</ul>
			</li>
			<li>Getting the introspection data of the access token.<br />
				<ul>
					<li>MFP.Server.getTokenIntrospectionData</li>
				</ul>
			</li>
			<li>Debugging.<br />
				<ul>
					<li>MFP.Logger.debug, error, and log</li>
				</ul>
			</li>
		</ul>
	</dd>
</dl></dd>
					</dl>
				
				
				<!--  -->
				
					
					
					
					<!-- iterating-properties tag  -->
					
					<!-- index-resolution tag  -->
					
					<!-- available tag  -->
					
					<!-- opl-type tag  -->				
					
					
					<!-- Add support to global functions links -->
					
					
					<!-- @example generated Examples out of the description -->
					
					
					<!-- @note generated notes out of the description -->	
					
						
	<!--		</p> -->
			<hr />
<!-- ============================== constructor summary ==================== -->			
		  
		  <!-- ilog.undocumented.constructor tag  -->
		  
			
<!-- ============================== properties summary ===================== -->
			

<!-- ============================== methods summary ======================== -->
			
				
				
				<table class="summaryTable" cellspacing="0" summary="A summary of the methods documented in the class MFP.Server.">
					 <!-- Customize global functions page  -->
					<caption>Method Summary</caption>
					<thead>
						<tr>
							<th scope="col">Method Attributes</th>
							<th scope="col">Method Name and Description</th>
						</tr>
					</thead>
					<tbody>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="MFP.Server.html#MFP.Server.addResponseHeader">MFP.Server.addResponseHeader</a></b>(input, value)
								</div>
								<div class="description">Changes the response headers when using adapters.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="MFP.Server.html#MFP.Server.getAuthenticatedUser">MFP.Server.getAuthenticatedUser</a></b>()
								</div>
								<div class="description">Gets the authenticated user information.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="MFP.Server.html#MFP.Server.getClientRequest">MFP.Server.getClientRequest</a></b>()
								</div>
								<div class="description">Returns a reference to the Java&trade; HttpServletRequest object that was used to invoke an adapter procedure.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="MFP.Server.html#MFP.Server.getPropertyValue">MFP.Server.getPropertyValue</a></b>(options)
								</div>
								<div class="description">Gets the value for the given property name.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="MFP.Server.html#MFP.Server.getTokenIntrospectionData">MFP.Server.getTokenIntrospectionData</a></b>()
								</div>
								<div class="description">Gets the introspection data of the access token provided in the request.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="MFP.Server.html#MFP.Server.invokeHttp">MFP.Server.invokeHttp</a></b>(options)
								</div>
								<div class="description">Calls an HTTP service.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="MFP.Server.html#MFP.Server.invokeProcedure">MFP.Server.invokeProcedure</a></b>(invocationData)
								</div>
								<div class="description">Invokes a procedure exposed by another MobileFirst&reg; JavaScript adapter.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="MFP.Server.html#MFP.Server.invokeSQLStatement">MFP.Server.invokeSQLStatement</a></b>(options)
								</div>
								<div class="description">Calls a prepared SQL statement.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="MFP.Server.html#MFP.Server.invokeSQLStoredProcedure">MFP.Server.invokeSQLStoredProcedure</a></b>(options)
								</div>
								<div class="description">Calls a stored procedure on a database.</div>
							</td>
						</tr>
					
						<tr>
							<!-- available tag  -->
							<td class="attributes">&nbsp;</td>
							<td class="nameDescription">
								<div class="fixedFont"><b>
								<a href="MFP.Server.html#MFP.Server.logActivity">MFP.Server.logActivity</a></b>(activityType, deviceContext)
								</div>
								<div class="description">Reports user activity for auditing or reporting purposes.</div>
							</td>
						</tr>
					
					</tbody>
				</table>
				
				
				
			
<!-- ============================== events summary ======================== -->
			
<!-- ============================== constructor details ==================== -->		
			
			 <!-- ilog.undocumented.constructor tag  -->
			
			
<!-- ============================== Properties details ========================== -->		
			
<!-- ============================== method details ========================= -->		
			
				 <!-- Customize global functions page  -->
					<div class='sectionTitle'>Method Detail</div>
				
					<a name="MFP.Server.addResponseHeader"> </a>
					
					<div class="method">
						MFP.Server.addResponseHeader
					</div>
					
					<div class="fixedFont">
					
					
					<b>MFP.Server.addResponseHeader</b>(input, value)
					
					</div>
					<div class="detailedDescription">
						Changes the response headers when using adapters.
The function can be used only inside an adapter procedure and is used to add a new header(s) to the response.<br />
In most cases, it is used to modify the cache headers (that is, Cache-Control, Expires, and Pragma HTTP headers).</br>
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- Format parameters output -->
							
							<dd>
								 
								<span class="parameters">input</span>
								
								 
								 - <table border="1">
			  <tr>
			    <th><b>Property</b></th>
			    <th><b>Description</b></th>
			  </tr>

			  <tr>
			    <td>name</td>
			    <td>HTTP header name. A string.</td>
			  </tr>
 		  <tr>
			    <td>value</td>
			    <td>HTTP header value. A string. Cannot be null.</td>
			  </tr>

			</table>
								
							</dd>
							
							<dd>
								 
								<span class="parameters">value</span>
								
								
							</dd>
							
							</dl>
						
						
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!--  -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
							<dl class="detailList">
							<dt class="heading">Example:</dt>
											
								<dd></dd>
								<dd><pre class="code"><code class="example" data-language="javascript">MFP.Server.addResponseHeader("Expires","Sun, 5 October 2014 18:00:00 GMT");</code></pre></dd>
							
							</dl>
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="MFP.Server.getAuthenticatedUser"> </a>
					
					<div class="method">
						MFP.Server.getAuthenticatedUser
					</div>
					
					<div class="fixedFont">
					
					
					<b>MFP.Server.getAuthenticatedUser</b>()
					
					</div>
					<div class="detailedDescription">
						Gets the authenticated user information.
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>The authenticated user information, formatted as a JSON object.
The returned object has the following structure:
<pre class="code">
{
   "id":"test",
   "authenticatedBy":"UsernamePasswordCheck",
   "isSuccessful":true,
   "authenticatedAt":1470314267025,
   "attributes":{},
   "displayName":"test"
}
</pre>
	The invocation results object contains the following properties:<br />
 <table border="1">
	    <tr>
	        <th><b>Property</b></th>
 		<th><b>Description</b></th>
		</tr>
 	<tr>
		    <td>attributes</td>
		    <td>Map of attributes</td>
		</tr>
		<tr>
		    <td>authenticateedAt</td>
		    <td>Time of authentication</td>
		</tr>
		<tr>
		    <td>authenticateedBy</td>
		    <td>Security check authenticed for user</td>
		</tr>
		<tr>
		    <td>displayName</td>
		    <td>Display name of the user</td>
		</tr>
		<tr>
		    <td>id</td>
		    <td>ID of the user</td>
	    </tr>
 </table></dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!--  -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="MFP.Server.getClientRequest"> </a>
					
					<div class="method">
						MFP.Server.getClientRequest
					</div>
					
					<div class="fixedFont">
					
					
					<b>MFP.Server.getClientRequest</b>()
					
					</div>
					<div class="detailedDescription">
						Returns a reference to the Java&trade; HttpServletRequest object that was used to invoke an adapter procedure.
This function can be used in any adapter procedure.<br />
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>A reference to an HttpServletRequest object.</dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!--  -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
							<dl class="detailList">
							<dt class="heading">Example:</dt>
											
								<dd></dd>
								<dd><pre class="code"><code class="example" data-language="javascript">var request = MFP.Server.getClientRequest();
var userAgent = request.getHeader("User-Agent");</code></pre></dd>
							
							</dl>
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="MFP.Server.getPropertyValue"> </a>
					
					<div class="method">
						MFP.Server.getPropertyValue
					</div>
					
					<div class="fixedFont">
					
					
					<b>MFP.Server.getPropertyValue</b>(options)
					
					</div>
					<div class="detailedDescription">
						Gets the value for the given property name. This function returns
the value from the actual adapter configuration, if it was modified. Otherwise, the default
value (defined in the adapter.xml descriptor file) is returned.
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- Format parameters output -->
							
							<dd>
								 
								<span class="parameters">options</span>
								
								 
								 - The name of the property
								
							</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>Value for the given property</dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!--  -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="MFP.Server.getTokenIntrospectionData"> </a>
					
					<div class="method">
						MFP.Server.getTokenIntrospectionData
					</div>
					
					<div class="fixedFont">
					
					
					<b>MFP.Server.getTokenIntrospectionData</b>()
					
					</div>
					<div class="detailedDescription">
						Gets the introspection data of the access token provided in the request.
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>The introspection data of the access token, formatted as a JSON object.
The returned object has the following structure:
<pre class="code">
{
  "mfp-application":
      {
          "id":"com.ibm.mfpstarterweb",
          "clientPlatform":"web"
      },
  "exp":1470311497928,
  "username":"anonymous",
  "mfp-device":
      {
          "id":"6747046e-0393-ced4-632d-19fe2af0fa87",
          "platform":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.82 Safari/537.36",
          "hardware":"MacIntel",
          "status":"ACTIVE",
          "displayName":null
      },
  "scope":"",
  "isSuccessful":true,
  "mfp-user":null,
  "active":true,
  "client_id":"e3d0a789-6ec1-4451-930d-12d06a1834d0",
  "mfp-checks":{}
 }
</pre>
			The invocation results object contains the following properties:<br />
			<table border="1">
			  <tr>
			    <th><b>Property</b></th>
			    <th><b>Description</b></th>
			  </tr>
           <tr>
             <td>client_id
             </td>
             <td>Client identifier
             </td>
           </tr>
			  <tr>
			    <td>exp</td>
			    <td>Expiration of the token</td>
			  </tr>
			  <tr>
			    <td>mfp-application</td>
			    <td>Application Data
                 <table border="1">
			            <tr>
			                <th><b>Property</b></th>
			                <th><b>Description</b></th>
			            </tr>
			            <tr>
			                <td>id</td>
			                <td>Applcation Id</td>
			            </tr>
			            <tr>
			                <td>clientPlatform</td>
			                <td>Client Platform</td>
			            </tr>
			            <tr>
			                <td>version</td>
			                <td>Applcation Version</td>
			            </tr>
                 </table>
				</td>
			  </tr>
           <tr>
             <td>mfp-device
             </td>
             <td>Device Data
                 <table border="1">
			            <tr>
			                <th><b>Property</b></th>
			                <th><b>Description</b></th>
			            </tr>
			            <tr>
			                <td>id</td>
			                <td>Device Id</td>
			            </tr>
			            <tr>
			                <td>Platform</td>
			                <td>Client Device Platform</td>
			            </tr>
			            <tr>
			                <td>hardware</td>
			                <td>Device Hardware</td>
			            </tr>
                     <tr>
			                <td>status</td>
			                <td>Device status</td>
			            </tr>
                     <tr>
			                <td>displayName</td>
			                <td>Device Display Name</td>
			            </tr>
                 </table>
             </td>
           </tr>
           <tr>
             <td>mfp-user
             </td>
             <td>User Data
                 <table border="1">
			            <tr>
			                <th><b>Property</b></th>
 			            <th><b>Description</b></th>
			            </tr>
 			        <tr>
			                <td>attributes</td>
			                <td>Map of attributes</td>
			            </tr>
			            <tr>
			                <td>authenticateedAt</td>
			                <td>Time of authentication</td>
			            </tr>
			            <tr>
			                <td>authenticateedBy</td>
			                <td>Security check authenticed for user</td>
			            </tr>
			            <tr>
			                <td>displayName</td>
			                <td>Display name of the user</td>
			            </tr>
			            <tr>
			                <td>id</td>
			                <td>ID of the user</td>
			            </tr>
                 </table>
             </td>
           </tr>
           <tr>
             <td>mfp-checks
             </td>
             <td>
                 custom introspection data provided by the security checks.<br/>
                 The data is provided as a map between the name of the security check and the custom introspection data it provided.
                 The map includes only security checks that provided a non-empty custom introspection data.
             </td>
           </tr>
			</table></dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!--  -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="MFP.Server.invokeHttp"> </a>
					
					<div class="method">
						MFP.Server.invokeHttp
					</div>
					
					<div class="fixedFont">
					
					
					<b>MFP.Server.invokeHttp</b>(options)
					
					</div>
					<div class="detailedDescription">
						Calls an HTTP service.
The function can be used only inside a procedure declared within an HTTP adapter. It calls a back-end HTTP service and converts the results to JSON.
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- Format parameters output -->
							
							<dd>
								 
								<span class="parameters">options</span>
								
								 
								 - The invokeHttp function accepts the following JSON block of parameters:<br />
           <table border="1">
			  <tr>
			    <th><b>Property</b></th>
			    <th><b>Description</b></th>
			  </tr>
			  <tr>
			    <td>function</td>
			    <td>Mandatory. Defines the HTTP function. Valid values are <code>get, post, put, </code>and <code>delete</code>.</td>
			  </tr>
			   <tr>
			    <td>returnedContentType</td>
			    <td>Optional. Defines the type of content that is returned by the called HTTP service, overriding the HTTP response’s MIME type.<br>
					If this parameter is not provided, the MobileFirst® Server handles the response according to the MIME type. <br />
					If it is provided, the MobileFirst Server handles the response according to the indicated value. The field can receive the following values:<br />
			    <ul>
			    <li> <code>css, csv, html, json, plain,</code> and <code>xml</code>.
			    If the invocation failed, the failure handler for the request is called.</li>
			    <li>Any MIME type that includes one of these values. Note that any response with MIME type that
	                     contains JavaScript or JSON is considered to contain JSON objects.</li>
			    </ul>
			    </td>
			  </tr>
			   <tr>
			    <td>returnedContentEncoding</td>
			    <td>Optional. Defines the encoding of the returned content. Default is <code>utf-8</code>.</td>
			  </tr>
			  <tr>
			  <td>path</td>
			    <td>Mandatory. Defines the path of the URL defining the HTTP service.</td>
			  </tr>
			  <tr>
			    <td>parameters</td>
			    <td>Optional. Defines the set of parameters that need to be passed to the HTTP service.</td>
			  </tr>
			  <tr>
			  <td>headers</td>
			    <td>Optional. Defines the headers for the HTTP request.</td>
			  </tr>
			  <tr>
			  <td>cookies</td>
			    <td>Optional. Defines cookies to be passed with the HTTP request.</td>
			  </tr>
			  <tr>
				<td>body</td>
			    <td>Defines the content of the request body.<br />
					<ul>
					<li>When the method is <code>GET</code>, this property is not allowed.</li>
					<li>When the method is <code>POST</code>, this property is optional.</li>
					</ul>
					<b>Note: </b> <code>body.content</code> must be a string. If you are explicitly creating a DOM object, such as in:

                <code>var request = &lt;soap:Envelope&gt; … &lt;/soap:Envelope&gt;</code>, you must convert the object to a
                 string before you assign it to <code>body.content</code>,

               for example: <code>request.toString();</code>
				</td>
			  </tr>
			  <tr>
			  <td>transformation</td>
			    <td>Optional. If defined, the response of the service undergoes the defined XSL transformation.
					If the service returns HTML, the MobileFirst Server first converts the response to XHTML, and then runs the XSL transformation on the XHTML response.</td>
			  </tr>
		  <tr>
			  <td>connectionTimeoutInMilliseconds</td>
			    <td>Optional.
					The timeout (in milliseconds) until a connection to the back-end can be established. The default value is 30000.
					By passing a value for <code>connectionTimeoutInMilliseconds</code>, you can override the value defined for
					<code>connectionTimeoutInMilliseconds</code> in the <connectionPolicy> element of the HTTP adapter descriptor file.
				</td>
			  </tr>
		  <tr>
			  <td>socketTimeoutInMilliseconds</td>
			    <td>Optional.
					The timeout (in milliseconds) between two consecutive packets, starting from the connection packet. The default value is 30000.
					By passing a value for <code>socketTimeoutInMilliseconds</code>, you can override the value defined for
					<code>socketTimeoutInMilliseconds</code> in the <connectionPolicy> element of the HTTP adapter descriptor file.
				</td>
		  </tr>

			</table>
								
							</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>The function returns the response of the HTTP service, after the
        following processing:<br>
		   <ol>
        <li> If the service returns HTML, the MobileFirst Server converts the
        HTML response to XHTML. If the service returns XML, the MobileFirst
        Server keeps it as is.</li>
        <li> If an XSL transformation has been defined in the <code>transformation</code>
        property, the MobileFirst Server executes the transformation on the
        result of Step 1. The transformation should convert its XML input
        to JSON. If no transformation was defined, the MobileFirst Server
        automatically converts the result of Step 1 to JSON.</li>
        </ol></dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!--  -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
							<dl class="detailList">
							<dt class="heading">Example:</dt>
											
								<dd></dd>
								<dd><pre class="code"><code class="example" data-language="javascript">var response = MFP.Server.invokeHttp(invocationData);
response.responseHeader; // responseHeader property contains HTTP response headers
response.statusCode; // statusCode property contains HTTP response status code</code></pre></dd>
							
							</dl>
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="MFP.Server.invokeProcedure"> </a>
					
					<div class="method">
						MFP.Server.invokeProcedure
					</div>
					
					<div class="fixedFont">
					
					
					<b>MFP.Server.invokeProcedure</b>(invocationData)
					
					</div>
					<div class="detailedDescription">
						Invokes a procedure exposed by another MobileFirst&reg; JavaScript adapter.
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- Format parameters output -->
							
							<dd>
								 
								<span class="parameters">invocationData</span>
								
								 
								 - The invokeProcedure function accepts the following JSON block
           of parameters:<br />
           <table border="1">
			  <tr>
			    <th><b>Property</b></th>
			    <th><b>Description</b></th>
			  </tr>
			  <tr>
			    <td>adapter</td>
			    <td>Mandatory. A string that contains the name of the adapter as specified when the adapter was defined.</td>
			  </tr>
			   <tr>
			    <td>procedure</td>
			    <td>Mandatory. A string that contains the name of the procedure as specified when the adapter was defined.</td>
			  </tr>
			   <tr>
			    <td>parameters</td>
			    <td>Optional. An array of parameter values that are passed to the back-end procedure. A parameter can be a scalar or an object.</td>
			  </tr>
			</table>
			</br.
								
							</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>The returned object has the following structure:
<pre class="code">
{
	isSuccessful: Boolean,
	errorMessages: ["Error Msg1", ...],
	// Application object returned by procedure
}
</pre>
			The invocation results object contains the following properties:<br />
			<table border="1">
			  <tr>
			    <th><b>Property</b></th>
			    <th><b>Description</b></th>
			  </tr>
			  <tr>
			    <td>isSuccessful</td>
			    <td>Identifies whether the function invocation succeeded or failed. Valid values are:
				<ul><li><code>true</code>: The function invocation succeeded. This is the default value. <br />
				<li><code>false</code>: The function invocation failed.
				</td>
			  </tr>
			  <tr>
			    <td>errorMessages</td>
			    <td>Optional. An array of strings that contain error messages. If no errors are provided, the returned array is empty.
				</td>
			  </tr>
			  <tr>
			    <td>Application object</td>
			    <td>Any object that is returned by the procedure.</td>
			  </tr>
			</table></dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!--  -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
							<dl class="detailList">
							<dt class="heading">Example:</dt>
											
								<dd>adapter : "AcmeBank"|procedure : " getTransactions"|parameters : [accountId|fromDate|toDate]|</dd>
								<dd><pre class="code"><code class="example" data-language="javascript">;</code></pre></dd>
							
							</dl>
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="MFP.Server.invokeSQLStatement"> </a>
					
					<div class="method">
						MFP.Server.invokeSQLStatement
					</div>
					
					<div class="fixedFont">
					
					
					<b>MFP.Server.invokeSQLStatement</b>(options)
					
					</div>
					<div class="detailedDescription">
						Calls a prepared SQL statement.
The function can be used only inside a procedure that is declared within an SQL adapter.<br />
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- Format parameters output -->
							
							<dd>
								 
								<span class="parameters">options</span>
								
								 
								 - <pre class="code">
{
	 //Mandatory
	 preparedStatement : prepared-statement-variable,

	 //Optional
	 parameters: [value-1, value-2, .... ]
}
</pre>
           The <code>invokeSQLStatement</code> function accepts the following JSON
           block of parameters:
           <table border="1">
			  <tr>
			    <th><b>Property</b></th>
			    <th><b>Description</b></th>
			  </tr>
			  <tr>
			    <td>preparedStatement</td>
			    <td>Mandatory. A string representing the SQL statement.</td>
			  </tr>
			   <tr>
			    <td>parameters</td>
			    <td>Optional. An array of parameters to the prepared statement.</td>
			  </tr>
			</table>


	 <h3>Example:</h3>
  	 If you write the following code:
  	 <pre>
function procedure1(param) {
    return MFP.Server.invokeSQLStatement({
	        preparedStatement : "select transactionType, transactionAmount, transactionId, toAccount, fromAccount, transactionDate from TRANSACTIONS where fromAccount = ?",,
	        parameters : ["12345"]
     });
}
</pre>
Then, assuming that the result set is:

 <pre>
  transactionType    transactionAmount   transactionId    toAccount   fromAccount   transactionDate
  -------------------------------------------------------------------------------------------------
  "Funds Transfer"   180.00              "W06091500863"   "54321"     "12345"       1236762519000
  "ATM Withdrawal"   130.00              "W214122/5337"   NULL        "12345"       1236416979000
  </pre>

The JSON result is:
  <pre>
   {
    "isSuccessful":true,
    "resultSet":[
      {
         "transactionType":"Funds Transfer",
         "transactionAmount":180.00,
      "transactionId":"W06091500863",
      "toAccount":"54321",
      "fromAccount":"12345",
      "transactionDate":1236762519000
      },
      {
        "transactionType":"ATM Withdrawal",
        "transactionAmount":130.00,
        "transactionId":"W214122/5337",
        "toAccount":null,
        "fromAccount":"12345",
        "transactionDate":1236416979000
      }
    ]
   }
  </pre>
								
							</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>The function returns the result set of the prepared statement.
        This returned value is formatted as a JSON array,
		   in which each element corresponds to a row in the result set of the prepared statement.</dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!--  -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="MFP.Server.invokeSQLStoredProcedure"> </a>
					
					<div class="method">
						MFP.Server.invokeSQLStoredProcedure
					</div>
					
					<div class="fixedFont">
					
					
					<b>MFP.Server.invokeSQLStoredProcedure</b>(options)
					
					</div>
					<div class="detailedDescription">
						Calls a stored procedure on a database.
The function can be used only inside a procedure that is declared within an SQL adapter.<br />
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- Format parameters output -->
							
							<dd>
								 
								<span class="parameters">options</span>
								
								 
								 - The invokeSQLStoredProcedure function accepts the following
           JSON block of parameters:
<pre class="code">
{
	//Mandatory
	procedure : procedure-name,

	//Optional
	parameters: [value-1, value-2, ... ]
}
</pre>
<h3>Example:</h3>
Assuming that the result set is:
 <pre>
  transactionType    transactionAmount   transactionId    toAccount   fromAccount   transactionDate
  -------------------------------------------------------------------------------------------------
  "Funds Transfer"   180.00              "W06091500863"   "54321"     "12345"       1236762519000
  "ATM Withdrawal"   130.00              "W214122/5337"   NULL        "12345"       1236416979000
  </pre>

The JSON result is:
  <pre>
   {
    "isSuccessful":true,
    "resultSet":[
      {
         "transactionType":"Funds Transfer",
         "transactionAmount":180.00,
      "transactionId":"W06091500863",
      "toAccount":"54321",
      "fromAccount":"12345",
      "transactionDate":1236762519000
      },
      {
        "transactionType":"ATM Withdrawal",
        "transactionAmount":130.00,
        "transactionId":"W214122/5337",
        "toAccount":null,
        "fromAccount":"12345",
        "transactionDate":1236416979000
      }
    ]
   }
  </pre>
								
							</dd>
							
							</dl>
						
						
						
							<dl class="detailList">
							<dt class="heading">Returns:</dt>
							
								<dd>The function returns the result set of the SQL stored procedure.
		   This returned value is formatted as a JSON array, in which each
		   element corresponds to a row in the result set of the SQL stored procedure.</dd>
							
							</dl>
										
									
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!--  -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
						
						<!-- @note generates notes out of the description -->	
						
						
					<hr />
				
					<a name="MFP.Server.logActivity"> </a>
					
					<div class="method">
						MFP.Server.logActivity
					</div>
					
					<div class="fixedFont">
					
					
					<b>MFP.Server.logActivity</b>(activityType, deviceContext)
					
					</div>
					<div class="detailedDescription">
						Reports user activity for auditing or reporting purposes.<br />
		The IBM&reg; MobileFirst&reg; server maintains a separate database table to store application statistics.
						<!--  -->
						<!--  --> 
					</div>
					
					<!-- proofread tag  -->
					
					
					
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							<!-- Format parameters output -->
							
							<dd>
								<span class="light fixedFont">{string}</span>  
								<span class="parameters">activityType</span>
								
								 
								 - A string that identifies the activity.
								
							</dd>
							
							<dd>
								 
								<span class="parameters">deviceContext</span>
								
								
							</dd>
							
							</dl>
						
						
										
									
						
							<dl class="detailList">
							<dt class="heading">Deprecated:</dt>
							<dd>
								The function is deprecated from V7.0.  Use <code>MFP.Logger</code> instead.
							</dd>
							</dl>
						
						
						
						
						
						<!-- undocumented javascript file -->
						<!--  -->
						
						

						<!-- available tag  -->
						
						
						<!-- @example generated Examples out of description	the description -->	
						
						
						<!-- @note generates notes out of the description -->	
						
						
					
				
			
			
<!-- ============================== event details ========================= -->		
			
			
		
		<!-- ============================== footer ================================= -->	
		<hr />
		<div role="contentinfo" title ="contentinfo_title" aria-label ="Contains footer note"/>
		<div class="fineprint" style="clear:both">
			&copy; Copyright IBM Corp. 2011, 2016.
		</div>
	</body>
</html>
