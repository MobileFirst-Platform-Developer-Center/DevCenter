---
layout: doc_page
title: Operational Analytics
date: 2015-04-16 06:34:39.000000000 +03:00
type: doc_page
published: true
status: publish
categories: []
tags:
- 7-1
meta:
  _wpcom_is_markdown: '1'
  _edit_last: '9037'
  _syntaxhighlighter_encoded: '1'
  _wpas_done_all: '1'
  _post_restored_from: a:3:{s:20:"restored_revision_id";i:15080;s:16:"restored_by_user";i:10081;s:13:"restored_time";i:1437661825;}
  _jetpack_related_posts_cache: a:1:{s:32:"984a002a47179f5ee40a1e2a09fbfe45";a:2:{s:7:"expires";i:1442523034;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:5594;}i:1;a:1:{s:2:"id";i:10902;}i:2;a:1:{s:2:"id";i:9566;}}}}
author:
  login: iadar@il.ibm.com
  email: IADAR@il.ibm.com
  display_name: IdanAdar
  first_name: IDAN
  last_name: ADAR
---
<p class="breadcrumbs">
&lt; <a href="../">Moving to production</a></p>
<div id="samplesAndPersonas">
<div>
        Relevant to:</p>
<ul id="relevantForPersona">
<li class="ios">Native iOS</li>
<li class="android">Native Android</li>
<li class="wp8">Native Windows Phone 8</li>
<li class="wp8">Native Windows 8 Universal</li>
<li class="hybrid">Hybrid</li>
</ul></div>
</div>
<h2>Overview</h2>
<p>The MobileFirst Platform Operational Analytics Console is a web-based UI that is dedicated to the ongoing monitoring of the deployed applications, adapters, and servers.</p>
<h3>Agenda</h3>
<ul>
<li><a href="#introAnalytics">Introducing IBM MobileFirst Platform Operational Analytics</a></li>
<li><a href="#viewingDashboard">Viewing the Analytics Dashboard - Configurations</a></li>
<li><a href="#capturingData">Capturing data</a></li>
<li><a href="#applicationActivities">Capturing data - Network Activities</a></li>
<li><a href="#notificationActivities">Capturing data - Notification Activities</a></li>
<li><a href="#serverLogs">Capturing data - Server logs</a></li>
<li><a href="#clientLogs">Capturing data - Client logs</a></li>
<li><a href="#analyticsLogs">Analytics logs</a></li>
<li><a href="#sendingData">Sending data</a></li>
<li><a href="#creatingCustomChart">Creating a custom chart</a></li>
<li><a href="#alerts">Alerts</a></li>
<li><a href="#migration">Migration</a></li>
</ul>
<h2 id="introAnalytics">Introducing IBM MobileFirst Platform Operational Analytics</h2>
<p>MobileFirst Operational Analytics collects data about applications, adapters, devices, logs, and your own custom events to give a high-level view of the client interaction with the IBM MobileFirst Platform Server.</p>
<p><a href="http://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2014/07/mfp_operational_analytics.jpg"><img src="{{ site.baseurl }}/assets/backup/mfp_operational_analytics.jpg" alt="MobileFirst Platform Operational Analytics" width="100%" height="160" class="aligncenter size-full wp-image-2094" /></a></p>
<p>Starting with IBM MobileFirst Platform Foundation V7.0, MobileFirst Operational Analytics is delivered as an EAR file which contains two WAR files: <code>analytics.war</code> and <code>analytics-service.war</code>. You can deploy the EAR file to the following supported application servers:</p>
<ul>
<li>Liberty</li>
<li>WebSphere® Application Server</li>
<li>Tomcat</li>
</ul>
<p>In MobileFirst Studio, the two WAR files are installed and available by default in the embedded Liberty server.</p>
<h2 id="viewingDashboard">Viewing the Analytics Dashboard - Configurations</h2>
<p>The <code>wl.analytics.url</code> property must be set to send data to the Analytics server and the <code>wl.analytics.console.url</code> must be set to access the Analytics dashboard.</p>
<ol>
<li style="float : left; width: 100%;">

<div style="width: 100%;">You can set these two properties in the <code>server.xml</code> file:</p>
<p>[code lang="xml"]<br />
&amp;amp;amp;amp;lt;jndiEntry jndiName=&amp;amp;amp;amp;quot;AppName/wl.analytics.url&amp;amp;amp;amp;quot; value=&amp;amp;amp;amp;quot;http://localhost:10080/analytics-service/data&amp;amp;amp;amp;quot;/&amp;amp;amp;amp;gt;<br />
&amp;amp;amp;amp;lt;jndiEntry jndiName=&amp;amp;amp;amp;quot;AppName/wl.analytics.console.url&amp;amp;amp;amp;quot; value=&amp;amp;amp;amp;quot;http://localhost:10080/analytics/console&amp;amp;amp;amp;quot;/&amp;amp;amp;amp;gt;<br />
[/code]</p>
<p>After the property is set, the <strong>Analytics Dashboard</strong> link appears in the MobileFirst Operations Console.</div>
<div style="width: 100%;">
<a href="https://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/04/71ConsoleAnalytics.png"><img src="{{ site.baseurl }}/assets/backup/71ConsoleAnalytics.png" alt="71ConsoleAnalytics" width="2570" height="484" class="aligncenter size-full wp-image-13930" /></a>
</div>
</li>
<li style="float : left; width: 100%;">

<div style="width: 100%;">Click the <strong>Analytics Dashboard</strong> link to open up the dashboard in a new window.</div>
<div style="width: 100%;">
<a href="https://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/04/71AnalyticsSession.png"><img src="{{ site.baseurl }}/assets/backup/71AnalyticsSession.png" alt="71AnalyticsSession" width="2758" height="1490" class="aligncenter size-full wp-image-13931" /></a></div>
</li>
</ol>
<h2 id="capturingData">Capturing data</h2>
<p>Different types of analytics events are captured by the MobileFirst Operational Analytics server: network activities, notification activities, server logs, and client logs.</p>
<h3><a href="#applicationActivities">Network activities</a></h3>
<ul>
<li>Client interacting with the server</li>
</ul>
<h3><a href="#notificationActivities">Notification activities</a></h3>
<ul>
<li>Push notifications</li>
</ul>
<h3><a href="#serverLogs">Server Logs</a></h3>
<ul>
<li>Server events</li>
<li>Server stack traces</li>
</ul>
<h3><a href="#clientLogs">Client Logs</a></h3>
<ul>
<li>Debug logs</li>
<li>Crashes</li>
<li>Custom events</li>
<li>Network latency information</li>
</ul>
<h2 id="applicationActivities">Capturing data - Network activities</h2>
<p>When a network activity occurs, the event is captured automatically and forwarded to the MobileFirst Operational Analytics server.</p>
<ul>
<li>The following API call results in a <em>session hit</em> that is visualized on MobileFirst Operational Analytics:
    </li>
<p>    [code lang="javascript"]</p>
<p>    // a 'session hit' will be recorded upon a successful connection<br />
    WL.Client.connect();[/code]</p>
<li>The following API call results in an <em>adapter hit</em> and a <em>session hit</em> that are visualized on the MobileFirst Operational Analytics dashboard:</li>
<p>    [code lang="javascript"]</p>
<p>    // an 'adapter hit' and a 'session hit' will be recorded upon a successful adapter invocation<br />
    WLResourceRequest.send();[/code]</p>
</ul>
<div style="width: 100%;">
<a href="https://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/04/71AnalyticsOnlySessions.png"><img src="{{ site.baseurl }}/assets/backup/71AnalyticsOnlySessions.png" alt="71AnalyticsOnlySessions" width="1906" height="1034" class="aligncenter size-full wp-image-13983" /></a>
</div>
<h2 id="notificationActivities">Capturing data - Notification Activities</h2>
<p>When a push notification occurs, the event is captured automatically and forwarded to the MobileFirst Operational Analytics server.</p>
<div style="width: 100%;">
<a href="https://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/04/71AnalyticsPush.png"><img src="{{ site.baseurl }}/assets/backup/71AnalyticsPush.png" alt="71AnalyticsPush" width="1882" height="628" class="aligncenter size-full wp-image-13993" /></a>
</div>
<h2 id="serverLogs">Capturing data - Server Logs</h2>
<p>The log data that is generated by MobileFirst Server is automatically forwarded to the MobileFirst Operational Analytics server, where the data can be searched and downloaded.</p>
<div style="width: 100%;">
<a href="https://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/04/71AnalyticsServer.png"><img src="{{ site.baseurl }}/assets/backup/71AnalyticsServer.png" alt="71AnalyticsServer" width="1878" height="1614" class="aligncenter size-full wp-image-13984" /></a>
</div>
<p>To disable this behavior, set the <code>wl.analytics.logs.forward</code> property to <code>false</code>.</p>
<h2 id="clientLogs">Capturing data - Client Logs</h2>
<p>You can instrument a MobileFirst application with client logs to record client debugging information and events.</p>
<p>You can use the following APIs to create client logs which are then forwarded to the MobileFirst Operational Analytics server, where they can be searched and downloaded.</p>
<p>[code lang="javascript"]<br />
// Set the log level to trace so that all logs are captured<br />
WL.Logger.config({&amp;amp;amp;amp;quot;level&amp;amp;amp;amp;quot;: &amp;amp;amp;amp;quot;TRACE&amp;amp;amp;amp;quot;});</p>
<p>// Create a client side log that is persisted locally until it is sent to the server<br />
WL.Logger.trace(&amp;amp;amp;amp;quot;Create a client log at the TRACE level.&amp;amp;amp;amp;quot;);<br />
WL.Logger.debug(&amp;amp;amp;amp;quot;Create a client log at the DEBUG level.&amp;amp;amp;amp;quot;);<br />
WL.Logger.info(&amp;amp;amp;amp;quot;Create a client log at the INFO level.&amp;amp;amp;amp;quot;);<br />
WL.Logger.warn(&amp;amp;amp;amp;quot;Create a client log at the WARN level.&amp;amp;amp;amp;quot;);<br />
WL.Logger.error(&amp;amp;amp;amp;quot;Create a client log at the ERROR level.&amp;amp;amp;amp;quot;);<br />
WL.Logger.fatal(&amp;amp;amp;amp;quot;Create a client log at the FATAL level.&amp;amp;amp;amp;quot;);[/code]</p>
<h2 id="analyticsLogs">Analytics Logs</h2>
<p>Client-side logs are captured based on the logging level that is set on the client. If you want to create analytics logs that are always captured regardless of the logging level, you can use the <code>WL.Analytics</code> API.</p>
<p>[code lang="javascript"]<br />
// Create an analytics log message<br />
WL.Analytics.log(&amp;amp;amp;amp;quot;Analytics log message&amp;amp;amp;amp;quot;);</p>
<p>// Create a custom activity<br />
WL.Analytics.log({_activity: &amp;amp;amp;amp;quot;customActivity&amp;amp;amp;amp;quot;});</p>
<p>// Create a custom activity with a log message<br />
WL.Analytics.log({_activity: &amp;amp;amp;amp;quot;customActivity&amp;amp;amp;amp;quot;}, &amp;amp;amp;amp;quot;Analytics log message&amp;amp;amp;amp;quot;);<br />
[/code]</p>
<h2 id="sendingData">Sending data</h2>
<p>Logs that are captured by the client-side logging APIs and the <code>WL.Analytics</code> APIs are sent to the server automatically upon a successful server connection or a successful adapter call.</p>
<p>[code lang="javascript"]</p>
<p>// Logs sent upon successful connection<br />
WL.Client.connect();</p>
<p>// Logs sent upon successful adapter invocation<br />
WLResourceRequest.send();[/code]</p>
<p>You can disable this automatic behavior by using the following call:</p>
<p>[code lang="javascript"]</p>
<p>// Disable automatic sending of client and analytics logs<br />
WL.Logger.config({autoSendLogs: false});[/code]</p>
<p>If you want to send this data more frequently, you can use the following API calls:</p>
<p>[code lang="javascript"]</p>
<p>// Send client debug logs<br />
WL.Logger.send();</p>
<p>// Send analytics logs<br />
WL.Analytics.send();[/code]</p>
<h2 id="customCharts">Custom charts</h2>
<p>Custom charts are a new feature of MobileFirst Platform Operational Analytics 7.0 and later. By using custom charts, you can take data that is already collected, like device ID, device model, device OS, etc., or log your own custom data and create charts. To understand how to log and send data, see <a href="#analyticsLogs">Analytics logs</a> and <a href="#sendingData">Sending data</a>.</p>
<h3>Chart types</h3>
<ul>
<li>Bar Graph</li>
<li>Flow Chart</li>
<li>Line Graph</li>
<li>Metric Group</li>
<li>Pie Chart</li>
<li>Table</li>
</ul>
<h2 id="creatingCustomChart">Creating a custom chart</h2>
<p>Creating a custom chart is simple. The following example walks you through creating a pie chart, based on the user pressing three buttons.</p>
<p>The messages that are logged to the Operational Analytics server in this example are hard-coded buttons. Those messages look like this:</p>
<p>[code lang="javascript"]<br />
WL.Analytics.log({buttonPress: &amp;amp;amp;amp;quot;buttonA&amp;amp;amp;amp;quot;}, &amp;amp;amp;amp;quot;press&amp;amp;amp;amp;quot;);<br />
WL.Analytics.log({buttonPress: &amp;amp;amp;amp;quot;buttonB&amp;amp;amp;amp;quot;}, &amp;amp;amp;amp;quot;press&amp;amp;amp;amp;quot;);<br />
WL.Analytics.log({buttonPress: &amp;amp;amp;amp;quot;buttonC&amp;amp;amp;amp;quot;}, &amp;amp;amp;amp;quot;press&amp;amp;amp;amp;quot;);<br />
[/code]</p>
<p>To create a chart, follow these steps.</p>
<ol>
<li>Go to the <strong>Custom Charts</strong> tab and click <strong>Create Chart</strong>.<br />
<img src="{{ site.baseurl }}/assets/backup/custom-chart-1-1024x275.png" alt="Create Custom Chart" style="max-width:100%!important;" class="aligncenter size-large wp-image-15081" /><br />
The following will appear.<br />
<img src="{{ site.baseurl }}/assets/backup/custom-chart-2-1024x713.png" alt="custom-chart-2" style="max-width:100%!important;" class="aligncenter size-large wp-image-15082" /><br />
As you fill out your information, more input fields are displayed.
</li>
<li>Enter a <strong>Chart Title</strong></li>
<li>Select <strong>Custom Data</strong> as the <strong>Event Type</strong></li>
<li>Select a <strong>Chart Type</strong>. This example uses a <strong>Pie Chart</strong>.<br />
<img src="{{ site.baseurl }}/assets/backup/custom-chart-type-1024x627.png" alt="custom-chart-type" width="980" height="600" class="aligncenter size-large wp-image-15090" />
</li>
<li>Click on the <strong>Chart Definition</strong> tab.<br />
<img src="{{ site.baseurl }}/assets/backup/custom-chart-3-e1437662521800-1024x404.png" alt="custom-chart-3" style="max-width:100%!important;" class="aligncenter size-large wp-image-15083" />
</li>
<li>Select a <strong>Property</strong>. This example uses <code>buttonPress</code>. <img src="{{ site.baseurl }}/assets/backup/custom-chart-4-1024x693.png" alt="custom-chart-4" style="max-width:100%!important;" class="aligncenter size-large wp-image-15084" /></li>
<li>Click <strong>Save</strong>. The chart is saved under the <strong>Custom Charts</strong> tab in the main dashboard.<img src="{{ site.baseurl }}/assets/backup/custom-chart-5-1024x642.png" alt="custom-chart-5" style="max-width:100%!important;" class="aligncenter size-large wp-image-15085" /></li>
</ol>
<h2 id="alerts">Alerts</h2>
<p>If you are using the latest interim fix of MobileFirst, you can set thresholds in alert definitions in the IBM MobileFirst™ Platform Operational Analytics Console to better monitor your activities.</p>
<p>You can configure thresholds, which if exceeded, trigger alerts to notify the MobileFirst Operational Analytics Console monitor. The triggered alerts can be visualized on the console, or the alerts can be handled by a custom webhook. This feature provides a proactive means of detecting client log errors, server log errors, extended periods of network latency, and authentication failures. Reactive thresholds and alerts keep you from having to sift through your data and set thresholds at a wide spectrum of granularity.</p>
<h3>Navigating Alerts</h3>
<p>To navigate to the Alert's dashboard there is a button with a bell in the top right corner as indicated in the picture below. The button may have a number associated, like in the image below. This number represents the number of alerts that have gone off since the last time last time a user has marked that they were notified of the alerts.</p>
<p><a href="https://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/09/AlertsDashboard.jpg.png"><img src="{{ site.baseurl }}/assets/backup/AlertsDashboard.jpg.png" alt="AlertsDashboard.jpg" width="2586" height="1120" class="aligncenter size-full wp-image-17977" /></a></p>
<p>The initial page to the Alert's dashboard is the Alert's log page. In the Alert's log page you can see previous alerts that  you were alerted about. If an alert has not been marked as viewed, then you will see a red circle over the alert count. To mark this as viewed, just press on the red circle.</p>
<p><a href="https://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/09/AlertsManagment.jpg.png"><img src="{{ site.baseurl }}/assets/backup/AlertsManagment.jpg.png" alt="AlertsManagment.jpg" width="1958" height="690" class="aligncenter size-full wp-image-17988" /></a></p>
<p>If you navigate to the 'Alert Management' tab, you can see the previous alerts that have been created. Here you can enable the alerts, copy the alerts for a starting point when creating a new alert, edit an existing alert, delete an existing alert, or create a new alert.</p>
<h3>Creating an Alert</h3>
<p>To create an alert, press the 'Create Alert' button under the 'Alert Management' tab in the Alert's dashboard. When creating an alert, the alert's information will populate as you are filling in information because not every alert will take the same values. Below you can see an alert with information already filled in.</p>
<p><a href="https://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/09/Screen-Shot-2015-09-22-at-11.48.27-AM.png"><img src="{{ site.baseurl }}/assets/backup/Screen-Shot-2015-09-22-at-11.48.27-AM.png" alt="Screen Shot 2015-09-22 at 11.48.27 AM" width="1922" height="1414" class="aligncenter size-full wp-image-17992" /></a></p>
<h2 id="migration">Migration</h2>
<p>MobileFirst Platform Foundation Analytics now has a simple migration tool for users who are on an earlier version of Operational Analytics than MobileFirst Platform Foundation 7.1.0. This feature is needed because some of the search mappings in previous versions of IBM MobileFirst Platform Foundation that are necessary to populate the Analytics console have been changed.</p>
<p>To run this search, go to the <strong>Administration</strong> tab on the left side of the console. After the administration console loads, click the <strong>Migration</strong> tab on the top tab bar. You can then see how many documents you have to migrate and the progress of the migration. You can perform a migration by pressing the <strong>Perform Migration</strong> button. After the migration process, all your data is migrated to IBM MobileFirst Platform Foundation 7.1.0 with all the correct mappings. You can see an example of the migration tab below.</p>
<p><a href="https://developer.ibm.com/mobilefirstplatform/wp-content/uploads/sites/32/2015/04/Screen-Shot-2015-06-24-at-2.12.12-PM.png"><img src="{{ site.baseurl }}/assets/backup/Screen-Shot-2015-06-24-at-2.12.12-PM.png" alt="Screen Shot 2015-06-24 at 2.12.12 PM" width="2562" height="858" class="aligncenter size-full wp-image-14000" /></a></p>
